<htmlform formUuid="6fe9d6ce-c6e1-476a-8218-391360b7fca7" formName="AKI" formEncounterType="1628af73-88a6-4609-a4fc-9775f3b7e3df" formVersion="0.1"
    formAddMetadata="yes"
	formUILocation="patientDashboard.visitActions"
	formOrder="12"
	formIcon="icon-random"
	formShowIf=""
	formDisplayStyle="Standard"
    >
	<!-- Autogenerated example form  (template from 01-Nov-2010 -->
	<macros>
		paperFormId = (Fill this in)
		headerColor =#009d8e
		fontOnHeaderColor = white
	</macros>

	<style>
		.section {
			border: 1px solid $headerColor;
			padding: 2px;
			text-align: left;
			margin-bottom: 1em;
		}
		.sectionHeader {
			background-color: $headerColor;
			color: $fontOnHeaderColor;
			display: block;
			padding: 2px;
			font-weight: bold;
		}
		table.baseline-aligned td {
			vertical-align: baseline;
		}
	</style>

	<span style="float:right">Paper Form ID: $paperFormId</span>
	<h2>AKI (v0.1)</h2>

	<section headerLabel="1. Encounter Details">
		<table class="baseline-aligned">

           <tr>
				<td>Type:</td>
				<td><encounterType types="1628af73-88a6-4609-a4fc-9775f3b7e3df" default="AKI" /></td>
			</tr>
			<tr>
				<td>Date:</td>
				<td><encounterDate default="today"/></td>
			</tr>
			<tr>
				<td>Location:</td>
				<td><encounterLocation/></td>
			</tr>
			<tr>
				<td>Provider:</td>
				<td><encounterProvider/></td>
			</tr>
		</table>
	</section>

	<section headerLabel="2. Demographic Information">
		<table class="baseline-aligned">
			<tr>
				<td>Name:</td>
				<td><lookup class="value" expression="patient.personName"/></td>
			</tr>
			<tr>
				<td>OpenMRS ID:</td>
				<td><lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('OpenMRS ID') ) $patId #end "/></td>
			</tr>
			<!--<tr>
				<td>Old Identification Number:</td>
				<td><lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('Old Identification Number') ) $patId #end "/></td>
			</tr>
			<tr>
				<td>OpenMRS Identification Number:</td>
				<td><lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('OpenMRS Identification Number') ) $patId #end "/></td>
			</tr>-->
			<tr>
				<td>Gender:</td>
				<td><lookup class="value" expression="patient.gender"/></td>
			</tr>
			<tr>
				<td>Birthdate:</td>
				<td>
					<lookup class="value" complexExpression="#if( \$patient.birthdateEstimated ) ~#end"/> <lookup class="value" expression="patient.birthdate"/>
					(Age: <lookup class="value" expression="patient.age"/>)
				</td>
			</tr>
			<!--<tr>
				<td>Health Center:</td>
				<td><lookup class="value" expression="personAttributes.get('Health Center')"/></td>
			</tr>
			<tr>
				<td>Health District:</td>
				<td><lookup class="value" expression="personAttributes.get('Health District')"/></td>
			</tr>-->
			<tr>
				<td>Telephone Number:</td>
				<td><lookup class="value" expression="personAttributes.get('Telephone Number')"/></td>
			</tr>
			<tr>
				<td>Occupation:</td>
				<td><lookup class="value" expression="personAttributes.get('Occupation')"/></td>
			</tr>
			<!--<tr>
				<td>Ethnicity:</td>
				<td><lookup class="value" expression="personAttributes.get('Ethnicity')"/></td>
			</tr>-->
			<tr>
				<td>Next of Kin:</td>
				<td><lookup class="value" expression="personAttributes.get('Next of Kin')"/></td>
			</tr>
			<tr>
				<td>Next of Kin's Phone Number:</td>
				<td><lookup class="value" expression="personAttributes.get('Next of Kins Phone Number')"/></td>
			</tr>
			<tr>
				<td>Date of First Encounter:</td>
				<td><lookup class="value" expression="personAttributes.get('Date of First Encounter')"/></td>
			</tr>
			<!--<tr>
				<td>Referral Source:</td>
				<td><lookup class="value" expression="personAttributes.get('Referral Source')"/></td>
			</tr>-->
			<tr>
				<td>Average Monthly Income:</td>
				<td><lookup class="value" expression="personAttributes.get('Average Monthly Income')"/></td>
			</tr>
		</table>
	</section>

	<!-- -	Laboratory: 
		-	
		&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
	-->
	<section headerLabel="3. Observations">
		
		<table class="baseline-aligned" style="border: 1px solid teal; width: auto;">
			<!-- <tr>
				<th><span style="border: 1px solid red; float:left;"><b><em>Check the test(s) required</em></b></span></th>
			</tr> -->
			<tr>
				<td colspan="3">
					<table class="baseline-aligned" style="border: 1px solid teal; width: 100%">
						<obsgroup groupingConceptId="163217" >
							<tr>
								<th>Cause of AKI</th>
							</tr>
							<tr>
								<td><obs conceptId="163213" style="checkbox" labelText="contrast" /></td>
								<td><obs conceptId="163214" style="checkbox" labelText="nephrotoxin (drugs herbs etc)" /></td>
								<td><obs conceptId="163153" style="checkbox" labelText="sepsis(infection)" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163158" style="checkbox" labelText="infestation" /></td>
								<td><obs conceptId="163154" style="checkbox" labelText="hypertension/shock" /></td>
								<td><obs conceptId="163205" style="checkbox" labelText="post op" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163216" style="checkbox" labelText="post trauma" /></td>
								<td><obs conceptId="163215" style="checkbox" labelText="post surgery" /></td>
								<td><obs conceptId="163155" style="checkbox" labelText="eclampsia" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163185" style="checkbox" labelText="urinary obstruction" /></td>
								<td><obs conceptId="163212" style="checkbox" labelText="unknown" /></td>
							</tr>
						</obsgroup>
					</table>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<table class="baseline-aligned" style="border: 1px solid lightgreen; width: 100%">
						<tr>
							<td>Comorbidity: </td> 
							<td>
								<!-- <select id="comorbidityselect">
									<option>-select-</option>
									<option value="cm1">HTN</option>
									<option value="cm2">DM</option>
									<option value="cm3">Neoplasia</option>
									<option value="cm4">Infections</option>
									<option value="cm5">NSAID</option>
									<option value="cm6">Other</option>
								</select> -->
								<obs conceptId="163167" id="comorbidityselect" />
							</td>
							<td><input id="otherspecify" type="text" name="" placeholder="specify" /></td>
						</tr>
						<tr>
							<td>Severity:<br/><span style="font-size: 9px;">(KDIGO stage)</span></td>
							<td><obs conceptId="162820" /></td>
						</tr>
						<tr>
							<td>ICU ventilated?</td>
							<td>
								<!-- <select>
									<option value="yes">Yes</option>
									<option value="no">No</option>						
								</select> -->
								<obs conceptId="163171" />
							</td>
						</tr>
						<tr>
							<td>Biopsy:</td>
							<td>
								<!-- <select id="biopsyselect">
									<option value="yes">Yes</option>
									<option value="no" selected="true">No</option>						
								</select> -->
								<obs conceptId="163148" id="biopsyselect" />
							</td>
						</tr>
						<tr id="histology">
							<td>Histolic diagnosis:</td>
							<td><obs conceptId="163306" cols="20" rows="2" placeholder="Enter diagnosis..." /></td>
						</tr>
					</table>
				</td>
			</tr>	
			<tr>
				<td colspan="3">
					<table id="interventiontable" class="baseline-aligned" style="border: 1px solid teal;width: 100%; border-right: none;">
						<obsgroup groupingConceptId="163204">
							<tr>
								<th>Intervention: <br/><span style="font-size: 9px;">(conservative)</span></th>
							</tr>
							<tr>
								<td><!-- <input id="fluids" type="checkbox" name="" value="" />Fluids: --> <obs conceptId="163165" style="checkbox" labelText="Fluids:" id="fluids" /></td>
								<td><obs conceptId="163199" id="fluids_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163151" style="checkbox" labelText="Blood: " id="blood" /></td>
								<td><obs conceptId="163196" id="blood_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163190" style="checkbox" labelText="Antihypertensive: " id="antihypertensive" /></td>
								<td><obs conceptId="163195" id="antihypertensive_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163193" style="checkbox" labelText="Diet: " id="diet" /></td>
								<td><obs conceptId="163202" id="diet_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163188" style="checkbox" labelText="Withdrawal: " id="withdrawal" /></td>
								<td><obs conceptId="163201" id="withdrawal_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163191" style="checkbox" labelText="Diuretics: " id="diuretics" /></td>
								<td><obs conceptId="163198" id="diuretics_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163194" style="checkbox" labelText="Hyperkalaemia: " id="hyperkalamia" /></td>
								<td><obs conceptId="163197" id="hyperkalamia_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163189" style="checkbox" labelText="Ionotropes: " id="ionotropes" /></td>
								<td><obs conceptId="163200" id="ionotropes_note" class="notes" /></td>
							</tr>
							<tr>
								<td><obs conceptId="163192" style="checkbox" labelText="Urethral catheterization: " id="urethral_cth" /></td>
								<td><obs conceptId="163203" id="urethral_cth_note" class="notes" /><br/></td>
							</tr>
						</obsgroup>
					</table>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<table class="baseline-aligned" style="border:1px solid lightgreen;width: 100%;">
						<tr>
							<td>Dialysis: </td>
							<td>
								<!-- <select>
									<option>-select-</option>
									<option>IHD</option>
									<option>SLEDD</option>
									<option>CVVHD</option>
									<option>PD</option>
								</select> -->
								<obs conceptId="163235" />
							</td>
						</tr>
						<tr>
							<td>Reason for not having dialysis: </td>
							<td>
								<!-- <select>
									<option>-select-</option>
									<option>dialysis not indicated</option>
									<option>no availability of required dialysis modality</option>
									<option>has contraindication to dailysis</option>
									<option>financial constraint</option>
								</select> -->
								<obs conceptId="163304" answerLabels="contraindication to dialysis, dialysis not indicated, unavailable dialysis, financial constraint"/>
							</td>
						</tr>
						<tr>
							<td>Outcome:</td>
							<td>
								<!-- <select>
									<option>-select-</option>
									<option>Recovery</option>
									<option>Death</option>
									<option>Progresses to CKD</option>
								</select> -->
								<obs conceptId="163241" />
							</td>
						</tr>
						<tr>
							<td>Duration of hospital stay: <br/><span style="font-size: 9px;">(in days)</span></td>
							<td><obs conceptId="163237" /></td>
						</tr>
						<tr>
							<td>Follow up</td>
							<td>
								<!-- <select>
									<option>-select-</option>
									<option>1 month</option>
									<option>3 month</option>
									<option>6 month</option>
								</select> -->
								<obs conceptId="163230" id="followup" />
							</td>
							<td><input id="otherspecify2" type="text" name="" placeholder="specify" /></td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</section>

	<submit/>

<!-- END OF FORM

Simple examples to copy-and-paste. Full reference at http://wiki.openmrs.org/x/kg8z

SECTION
	<section headerLabel="\#. Title">
		Content
	</section>

NUMERIC OBSERVATION
	<obs conceptId="id-of-numeric-concept" labelText="Label before"/>

DATE OBSERVATION
	<obs conceptId="id-of-date-concept" labelText="Label before"/>

CODED OBSERVATION
(as a dropdown)
	<obs conceptId="id-of-coded-concept" labelText="Label before"/>
(as radio buttons)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="radio"/>
(as an autocomplete)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="autocomplete" answerClasses="Diagnosis"/>
(as a checkbox for a specific answer)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptId="id-of-answer-concept" answerLabel="label for answer"/>
(as a dropdown with specific choices)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptIds="concept-id-1,concept-id-2,concept-id-3" answerLabels="Label 1,Label 2, Label 3"/>


FREE TEXT OBSERVATION
(as a normal text field)
	<obs conceptId="id-of-text-concept" labelText="Label before"/>
(as a textarea)
	<obs conceptId="id-of-text-concept" labelText="Label before" rows="4" cols="80"/>
-->

<script type="text/javascript">
										    	
	jQuery('#lft').on('click', function(){
		jQuery('#lftradio').toggle('slow');
	});
	jQuery('#urine').on('click', function(){
		jQuery('#urineradio').toggle('slow');
	});

	jQuery('#otherspecify').hide();
	jQuery('#otherspecify2').hide();
	jQuery('#comorbidityselect').change(function(){
	 if(jQuery('#comorbidityselect option:selected').text() === 'Other'){
	     jQuery('#otherspecify').show('slow');
	}else{
	     jQuery('#otherspecify').hide('slow');
	}
	});

	jQuery('#followup').change(function(){
	 if(jQuery('#followup option:selected').text() === 'Other'){
	     jQuery('#otherspecify2').show('slow');
	}else{
	     jQuery('#otherspecify2').hide('slow');
	}
	});

	jQuery('#histology').hide();
	jQuery('#biopsyselect').change(function(){
	 if(jQuery('#biopsyselect option:selected').text() === 'Yes'){
	     jQuery('#histology').show('slow');
	}else{
	     jQuery('#histology').hide('slow');
	}
	});

	// get all the intervention elements in an array object
	var intEle= {"#fluids":"#fluids_note", "#blood": "#blood_note", "#antihypertensive":"#antihypertensive_note",
				"#diet": "#diet_note", "#withdrawal": "#withdrawal_note", "#diuretics": "#diuretics_note",
				"#hyperkalamia": "#hyperkalamia_note", "#ionotropes": "#ionotropes_note", "#urethral_cth": "#urethral_cth_note"};

	var temp = '';
	var keyArr = Object.keys(intEle);
	keyArr.forEach((x, y) =>{
		temp = `${intEle[x]} input`;
	    jQuery(temp).attr('disabled', 'disabled');
	});

	jQuery(keyArr[0]).on('click', function(){

		temp = `${intEle[keyArr[0]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[1]).on('click', function(){

		temp = `${intEle[keyArr[1]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[2]).on('click', function(){

		temp = `${intEle[keyArr[2]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[3]).on('click', function(){

		temp = `${intEle[keyArr[3]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});

	jQuery(keyArr[4]).on('click', function(){

		temp = `${intEle[keyArr[4]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[5]).on('click', function(){

		temp = `${intEle[keyArr[5]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[6]).on('click', function(){

		temp = `${intEle[keyArr[6]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[7]).on('click', function(){

		temp = `${intEle[keyArr[7]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});
	jQuery(keyArr[8]).on('click', function(){

		temp = `${intEle[keyArr[8]]} input`;
		if(jQuery(temp).hasAttr('disabled')){
			jQuery(temp).removeAttr('disabled');
		}
		else{
			jQuery(temp).attr('disabled', 'disabled');
			jQuery(temp).val(" ");
		}
	});

	// custom hasAttr method checking if an attribute exists on an element
	jQuery.fn.hasAttr = function(name) {  
   		return this.attr(name) !== undefined;
	};
</script>
</htmlform>